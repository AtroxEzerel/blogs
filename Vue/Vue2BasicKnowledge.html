<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue2基础语法知识 | 前端学习博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="前端学习知识总结分享">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.b35bbd78.css" as="style"><link rel="preload" href="/blogs/assets/js/app.69ecda0a.js" as="script"><link rel="preload" href="/blogs/assets/js/3.ac4bd351.js" as="script"><link rel="preload" href="/blogs/assets/js/1.3239c0b6.js" as="script"><link rel="preload" href="/blogs/assets/js/18.4d96e93b.js" as="script"><link rel="preload" href="/blogs/assets/js/10.e97f1fa2.js" as="script"><link rel="prefetch" href="/blogs/assets/js/11.d771fcce.js"><link rel="prefetch" href="/blogs/assets/js/12.4c19c7b3.js"><link rel="prefetch" href="/blogs/assets/js/13.56eb5ece.js"><link rel="prefetch" href="/blogs/assets/js/14.a5d1c292.js"><link rel="prefetch" href="/blogs/assets/js/15.055b0112.js"><link rel="prefetch" href="/blogs/assets/js/16.1b85966c.js"><link rel="prefetch" href="/blogs/assets/js/17.4db674af.js"><link rel="prefetch" href="/blogs/assets/js/4.950e4cd7.js"><link rel="prefetch" href="/blogs/assets/js/5.0a8f5823.js"><link rel="prefetch" href="/blogs/assets/js/6.8a7756ec.js"><link rel="prefetch" href="/blogs/assets/js/7.b0a05fe7.js"><link rel="prefetch" href="/blogs/assets/js/8.66550d68.js"><link rel="prefetch" href="/blogs/assets/js/9.e6e1acbc.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.b35bbd78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>前端学习博客</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>前端学习知识总结分享</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/" class="home-link router-link-active"><!----> <span class="site-name">前端学习博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      爱迪达的学习博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/AtroxEzerel" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/597723721263592" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/atrox493/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>8</h3> <h6 data-v-39576ba9>文章</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>标签</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/blogs/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      爱迪达的学习博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/AtroxEzerel" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/597723721263592" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/atrox493/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blogs/" class="sidebar-heading clickable router-link-active"><span>博客介绍</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/" aria-current="page" class="sidebar-link">欢迎学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blogs/JavaScript/Introduce" class="sidebar-heading clickable"><span>JavaScript</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/JavaScript/Introduce.html" class="sidebar-link">JavaScript简介</a></li><li><a href="/blogs/JavaScript/Notes.html" class="sidebar-link">JavaScript注释</a></li><li><a href="/blogs/JavaScript/InputOutput.html" class="sidebar-link">JavaScript输入输出</a></li><li><a href="/blogs/JavaScript/Variable.html" class="sidebar-link">JavaScript变量</a></li><li><a href="/blogs/JavaScript/DataType.html" class="sidebar-link">JavaScript数据类型</a></li><li><a href="/blogs/JavaScript/Operator.html" class="sidebar-link">JavaScript运算符</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blogs/Vue/Vue2BasicKnowledge" class="sidebar-heading clickable open active"><span>Vue</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/Vue/Vue2BasicKnowledge.html" aria-current="page" class="active sidebar-link">Vue2基础语法知识</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Vue2基础语法知识</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div data-v-130b300a><main class="page" style="padding-right:0;"><section><div class="page-title"><h1 class="title">Vue2基础语法知识</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>爱迪达</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2022/4/17</span></i> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="vue2基础知识学习"><a href="#vue2基础知识学习" class="header-anchor">#</a> Vue2基础知识学习</h1> <h2 id="_01-初识"><a href="#_01-初识" class="header-anchor">#</a> 01.初识</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#root'</span><span class="token punctuation">,</span> <span class="token comment">//用于指定当前Vue实例为哪个容器服务，值通常为css选择器符</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_02-模板语法"><a href="#_02-模板语法" class="header-anchor">#</a> 02.模板语法</h2> <h3 id="_1-插值语法"><a href="#_1-插值语法" class="header-anchor">#</a> 1.插值语法</h3> <ul><li><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>插值语法 {{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>插值语法 {{school.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul> <h3 id="_2-指令语法"><a href="#_2-指令语法" class="header-anchor">#</a> 2.指令语法</h3> <ul><li><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>百度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url.toUpperCase()<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>百度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>school.name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>百度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul> <h2 id="_03-数据绑定"><a href="#_03-数据绑定" class="header-anchor">#</a> 03.数据绑定</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    单向数据绑定：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    双向数据绑定：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-model:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--  只能用于输入类标签   v-mode----value 默认收集value值 --&gt;</span>
    双向数据绑定：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_04-el与data"><a href="#_04-el与data" class="header-anchor">#</a> 04.el与data</h2> <h3 id="_1-el的两种写法"><a href="#_1-el的两种写法" class="header-anchor">#</a> 1.el的两种写法</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#root'</span><span class="token punctuation">,</span> <span class="token comment">//用于指定当前Vue实例为哪个容器服务，值通常为css选择器符</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//函数式</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'!!!'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xxx'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">'62'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token comment">//挂载root的另一种写法</span>
<span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span>
v<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span>  
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
v<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
v<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-data的两种写法"><a href="#_3-data的两种写法" class="header-anchor">#</a> 3.data的两种写法</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//data:()=&gt; this指向全局  箭头函数没有this指向全局window</span>
<span class="token comment">//对象式</span>
<span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'www'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">'58'</span>
<span class="token punctuation">}</span>
<span class="token comment">//函数式</span>
<span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xxx'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">'62'</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_05-mvvm"><a href="#_05-mvvm" class="header-anchor">#</a> 05.MVVM</h2> <h3 id="_1-m-模型-model"><a href="#_1-m-模型-model" class="header-anchor">#</a> 1.M：模型(Model)</h3> <ul><li>对应data中的数据</li></ul> <h3 id="_2-v-视图-view"><a href="#_2-v-视图-view" class="header-anchor">#</a> 2.V:视图(View)</h3> <ul><li>模板</li></ul> <h3 id="_3-vm-视图模型-viewmodel"><a href="#_3-vm-视图模型-viewmodel" class="header-anchor">#</a> 3.VM:视图模型(ViewModel)</h3> <ul><li>Vue实例对象</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>名称<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>{{name}}：地址{{age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{}} 属性  表达式  原型vm所有上的都能使用属性以及vue原型：数据代理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$options}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$emit}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{_c}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
&lt;/div
</code></pre></div><h2 id="_06-数据代理"><a href="#_06-数据代理" class="header-anchor">#</a> 06.数据代理</h2> <h3 id="_1-object-definepropertry方法"><a href="#_1-object-definepropertry方法" class="header-anchor">#</a> 1.Object.definepropertry方法</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//关联</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token string">'size'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token comment">//当有人读取person的size属性时，get函数就会被调用(getter) 且返回值就是size的值</span>
    <span class="token comment">//size === ? ---&gt;getter</span>
    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'有人读取属性'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> number
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//当有人修改person的size属性时，set函数就会被调用(setter) 且会收到修改的具体值</span>
    <span class="token function">set</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'有人修改'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> number
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//这种方法添加的值是不可以被枚举的(不参与遍历)</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token string">'foot'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//控制属性是否可以被枚举可列举的</span>
    <span class="token comment">//无法被修改</span>

    <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//控制属性是否可以被修改</span>
    <span class="token comment">//不可被删除</span>

    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">//控制属性是否可以被删除</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-数据代理"><a href="#_2-数据代理" class="header-anchor">#</a> 2.数据代理</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//数据代理：通过一个对象代理对另一个对象中属性的操作</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
    <span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">50</span>
    <span class="token punctuation">}</span>

    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span><span class="token string">'x'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> obj1<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            obj1<span class="token punctuation">.</span>x<span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_3-vue数据代理"><a href="#_3-vue数据代理" class="header-anchor">#</a> 3.vue数据代理</h3> <ul><li>数据代理：通过一个对象代理对另一个对象中属性的操作</li> <li>通过vm对象来代理data对象中属性的操作（读\写）</li> <li>通过Object.defineProperty()把data对象中所有属性添加到vm上</li> <li>为每一个添加到vm上的属性都指定一个geeter/setter</li></ul> <h2 id="_07-事件处理"><a href="#_07-事件处理" class="header-anchor">#</a> 07.事件处理</h2> <h3 id="_1-事件处理"><a href="#_1-事件处理" class="header-anchor">#</a> 1.事件处理</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showInfo1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点我提示信息1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token function">showInfo1</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// event默认事件</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span>
         <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'同学你好1！'</span><span class="token punctuation">)</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">//此处this === vm vue实例</span>
         <span class="token comment">//showInfo:(event)=&gt; 此处this是window对象</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-vue事件修饰符"><a href="#_2-vue事件修饰符" class="header-anchor">#</a> 2.Vue事件修饰符</h3> <ul><li><p>prevent阻止默认事件</p></li> <li><p>stop阻止事件冒泡</p></li> <li><p>once 时间只触发一次</p></li> <li><p>capyure 使用事件的捕获模式</p></li> <li><p>self 只有event.target 是当前操作的元素时才触发事件</p></li> <li><p>passsive 事件的默认行为立即执行无需等待事件回调执行完毕</p></li> <li><p>修饰符可以连续写</p></li> <li><p>scroll滚动条滚动 wheel滚轮滚动 触发事件不同 passive移动端用的较多</p></li></ul> <h3 id="_3-键盘事件"><a href="#_3-键盘事件" class="header-anchor">#</a> 3.键盘事件</h3> <h4 id="vue按键别名"><a href="#vue按键别名" class="header-anchor">#</a> Vue按键别名</h4> <ul><li><p>回车 enter</p></li> <li><p>删除 delete</p></li> <li><p>退出 esc</p></li> <li><p>空格 space</p></li> <li><p>换行 tab 使用keydown ---ctrl shift alt meta 系统修饰键  keyup同时按下其他键随后释放其他键事件才触发</p></li> <li><p>上 up</p></li> <li><p>下 down</p></li> <li><p>左 left</p></li> <li><p>右 right</p></li> <li><p>大写锁定键 caps-lock短横线命名 也可以使用按键原始的key值</p></li> <li><p>也可以使用keyCode值</p></li> <li><p>Vue.config.keyCodes.自定义键名 = 键码 定制按键别名</p></li> <li><p>keyup.ctrl.y可以连续写</p></li></ul> <h2 id="_08-计算属性"><a href="#_08-计算属性" class="header-anchor">#</a> 08.计算属性</h2> <p>通过已有的属性计算而来</p> <ul><li><p>底层借助 Object.defineproerty的get set</p></li> <li><p>优势 内部有缓存机制效率高调试方便</p></li> <li><p>最终出现在vm上</p></li> <li><p>如果计算属性被修改必须使用set函数响应 且set中要引起计算时依赖的数据发生改变</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">fullName</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//当有人读取fullName get就会调用 且返回值就作为fullName的值</span>
            <span class="token comment">//在vm上 通过this调用 存在缓存中</span>
            <span class="token comment">//get什么时候调用1.初次读取计算属性2.所依赖的数据发生变化时</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//set:当fullName被修改时</span>
            <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
                <span class="token keyword">const</span> arr <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="计算属性简写"><a href="#计算属性简写" class="header-anchor">#</a> 计算属性简写</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//fullName: {</span>
    <span class="token comment">//完整写法</span>
    <span class="token comment">// get() {</span>
    <span class="token comment">//     return this.firstName + '-' + this.lastName</span>
    <span class="token comment">// },</span>
    <span class="token comment">// //set:当fullName被修改时</span>
    <span class="token comment">// set(value){</span>
    <span class="token comment">//     console.log('set',value)</span>
    <span class="token comment">//     const arr = value.split('-')</span>
    <span class="token comment">//     this.firstName = arr[0]</span>
    <span class="token comment">//     this.lastName = arr[2]</span>
    <span class="token comment">// }</span>
    <span class="token comment">//} </span>
    <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//简写</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_09-监视属性"><a href="#_09-监视属性" class="header-anchor">#</a> 09.监视属性</h2> <h3 id="_1-两种写法"><a href="#_1-两种写法" class="header-anchor">#</a> 1.两种写法</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isHot</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//发生改变时</span>
    <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldVue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;isHot被修改了！&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldVue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//初始化让handler立即执行</span>
    <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldVue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;info被修改了！&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldVue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">&quot;isHot&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldVue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;isHot被修改啦！&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldVue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//初始化让handler立即执行</span>
    <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-深度监视"><a href="#_2-深度监视" class="header-anchor">#</a> 2.深度监视</h3> <ul><li>Vue能检测对象内部的属性 但是watch默认不行 使用deep属性打开监测</li> <li>初始化让handler立即执行-----immediate: true</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">numbers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//深度监视</span>
    <span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'都改变啦'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//监视多级结构中某个属性的变化</span>
 <span class="token string-property property">&quot;numbers.a&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;a改变啦&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_3-简写"><a href="#_3-简写" class="header-anchor">#</a> 3.简写</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">isHot</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldVue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;isHot被修改了！&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldVue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>所有Vue管理的函数不能使用箭头函数否则this指向会由vm转换为window</li> <li>Vue管理的函数 computed methods watch</li></ul> <h3 id="_4-计算属性与侦听属性的区别"><a href="#_4-计算属性与侦听属性的区别" class="header-anchor">#</a> 4.计算属性与侦听属性的区别</h3> <p><strong>计算属性无法执行异步任务 侦听属性可以</strong></p> <ul><li><p>侦听属性里的属性最好写成普通函数</p></li> <li><p>定时器执行的回调是不受vue控制的</p></li> <li><p>是浏览器定时器模块控制的 js引擎到点调用 必须使用箭头函数</p></li> <li><p>当将函数写为箭头时定时器中的this指向firstName</p></li> <li><p>不被vue所管理的函数定时器回调函数 ajax回调函数 Promise的回调函数 最好写成箭头函数 这样的this才会指向vm</p></li></ul> <h2 id="_10-绑定样式"><a href="#_10-绑定样式" class="header-anchor">#</a> 10.绑定样式</h2> <h3 id="_1-字符串学法"><a href="#_1-字符串学法" class="header-anchor">#</a> 1.字符串学法</h3> <h3 id="_2-数组写法"><a href="#_2-数组写法" class="header-anchor">#</a> 2.数组写法</h3> <h3 id="_3-对象写法"><a href="#_3-对象写法" class="header-anchor">#</a> 3.对象写法</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>hello {{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 字符串写法：适用于样式的类名不确定需要动态指定 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>颜色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>arr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 数组写法：要绑定的样式个数不确定名字不确定 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>颜色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classObj<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 对象写法：要绑定的样式个数确定名字确定动态决定用不用· --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>颜色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{fontSize: fsize+ <span class="token punctuation">'</span>px<span class="token punctuation">'</span>}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>styleObj<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[styleObj,styleObj2]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>styleArr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_11-条件渲染"><a href="#_11-条件渲染" class="header-anchor">#</a> 11.条件渲染</h2> <h3 id="_1-区别"><a href="#_1-区别" class="header-anchor">#</a> 1.区别</h3> <ul><li>v-show 调整dispaly 频率比较高</li> <li>v-if  操作dom 频率比较低</li></ul> <div class="language- extra-class"><pre class="language-text"><code>&lt;div&gt;
    &lt;p&gt;{{n}}&lt;/p&gt;
    &lt;button @click=&quot;n++&quot;&gt;n+1&lt;/button&gt;
    &lt;div v-show=&quot;n===1&quot;&gt;AAA&lt;/div&gt;
    &lt;div v-show=&quot;n===2&quot;&gt;BBB&lt;/div&gt;
    &lt;div v-show=&quot;n===3&quot;&gt;CCC&lt;/div&gt;

    &lt;!-- 同组判断 --&gt;
    &lt;div v-if=&quot;n===1&quot;&gt;A8A&lt;/div&gt;
    &lt;div v-else-if=&quot;n===2&quot;&gt;B6B&lt;/div&gt;
    &lt;div v-else-if=&quot;n===3&quot;&gt;C8C&lt;/div&gt;
&lt;/div&gt;
</code></pre></div><ul><li>template会形成作用域 二者配合使用template与v-if的使用</li></ul> <h2 id="_12-列表渲染"><a href="#_12-列表渲染" class="header-anchor">#</a> 12.列表渲染</h2> <h3 id="_1-基本列表"><a href="#_1-基本列表" class="header-anchor">#</a> 1.基本列表</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- in---of --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(people,index) in persons<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>people.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{people.name}}--{{people.age}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_2-key的原理"><a href="#_2-key的原理" class="header-anchor">#</a> 2.key的原理</h3> <ul><li><p>key：虚拟Dom的标识</p></li> <li><p>当数据发生变化时vue根据新数据生成新的虚拟dom</p></li> <li><p>随后进行新的虚拟DOM与旧的虚拟DOM的比较</p></li> <li><p>内容没变直接使用之前的真实DOM</p></li> <li><p>内容改变重新创建真实的DOM</p></li> <li><p>使用index作为key修改数据破坏顺序时会产生错误的DOM更新</p></li></ul> <h3 id="_3-列表的过滤"><a href="#_3-列表的过滤" class="header-anchor">#</a> 3.列表的过滤</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">filPersons</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span>  p<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-列表的排序"><a href="#_4-列表的排序" class="header-anchor">#</a> 4.列表的排序</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">filPersons</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span>  p<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortType<span class="token punctuation">)</span><span class="token punctuation">{</span>
            arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span>p2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sortType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> p2<span class="token punctuation">.</span>age<span class="token operator">-</span>p1<span class="token punctuation">.</span>age <span class="token operator">:</span> p1<span class="token punctuation">.</span>age<span class="token operator">-</span>p2<span class="token punctuation">.</span>age
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> arr
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-数据监测"><a href="#_5-数据监测" class="header-anchor">#</a> 5.数据监测</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//创建一个监视的实例对象，用于监视data中属性的变化</span>
<span class="token keyword">const</span> obs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

<span class="token comment">//准备一个vm实例对象</span>
<span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
vm<span class="token punctuation">.</span>_data <span class="token operator">=</span> data <span class="token operator">=</span> obs

<span class="token keyword">function</span> <span class="token function">Observer</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//汇总对象中所有的属性形成一个数组</span>
    <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token comment">//遍历</span>
    keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token punctuation">{</span>
            <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">{</span>
                obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> val
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-vue-set的使用"><a href="#_6-vue-set的使用" class="header-anchor">#</a> 6.Vue.set的使用</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">addSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Vue.set(this.student, 'sex', '男');</span>
    <span class="token comment">//vm</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>student<span class="token punctuation">,</span><span class="token string">'sex'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-vue数据监测原理"><a href="#_7-vue数据监测原理" class="header-anchor">#</a> 7.Vue数据监测原理</h3> <ul><li><p>vue会监视data中所有层次的数据</p></li> <li><p>如何检测对象中的数据</p></li> <li><p>通过setter实现监视 且要在new Vue时就传入要监测的数据</p></li> <li><p>1.对象中后追加的属性Vue默认不做响应式处理</p></li> <li><p>2.如需给后添加的属性做响应式请使用</p> <p>Vue.set(target,propertyName/index,value)</p> <p>vm.$set(target,propertyName/index,value)</p></li> <li><p>如何监测数组中的数据</p></li> <li><p>通过包裹数组更新元素的方法实现</p> <p>1.调用原生对应的方法对数组进行更新</p> <p>2.重新解析模板，进而刷新页面</p></li> <li><p>在vue修改数组中的某个元素一定使用如下方法</p> <p>1.push,pop,shift,unshift,splice.sort,reverse</p> <p>2.Vue.set()或vm.$set()</p></li> <li><p>Vue.set()和vm.$set()不能给vm或者vm的根数据对象添加属性</p></li></ul> <h2 id="_13-表单数据收集"><a href="#_13-表单数据收集" class="header-anchor">#</a> 13.表单数据收集</h2> <h3 id="_1-v-model的三个修饰符"><a href="#_1-v-model的三个修饰符" class="header-anchor">#</a> 1.v-model的三个修饰符</h3> <ul><li>lazy:失去焦点再收集数据</li> <li>number:输入字符串转为有效的数字</li> <li>trim:输入首位空格过滤</li></ul> <h3 id="_2-input的type为text、radio-v-model时"><a href="#_2-input的type为text、radio-v-model时" class="header-anchor">#</a> 2.input的type为text、radio ，v-model时</h3> <ul><li>收集value的值</li></ul> <h3 id="_3-input的type为checkbox"><a href="#_3-input的type为checkbox" class="header-anchor">#</a> 3.input的type为checkbox</h3> <ul><li>没有配置value收集checked为布尔值</li> <li>配置value 初始值为非数组收集checkbox的布尔值，若为数组则收集value组成的数组</li></ul> <h2 id="_14-vue过滤器"><a href="#_14-vue过滤器" class="header-anchor">#</a> 14.Vue过滤器</h2> <h3 id="_1-定义"><a href="#_1-定义" class="header-anchor">#</a> 1.定义</h3> <ul><li>对要显示的数据进行特定格式化后再显示，适用于一些简单逻辑的处理</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>现在是<span class="token punctuation">{</span><span class="token punctuation">{</span>time <span class="token operator">|</span> <span class="token function">timeFormater</span><span class="token punctuation">(</span><span class="token string">'YYYY_MM_DD'</span><span class="token punctuation">)</span> <span class="token operator">|</span> mySlice<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h3 <span class="token operator">:</span>x<span class="token operator">=</span><span class="token string">&quot;msg | mySlice&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
<span class="token comment">//全局过滤器</span>
    Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'mySlice'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//局部过滤器</span>
    <span class="token literal-property property">filters</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//str如果没有传入参数则规定一个默认的值</span>
        <span class="token function">timeFormater</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>str<span class="token operator">=</span><span class="token string">'YYYY--MM-DD HH:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>过滤器也可以接收额外参数、多个过滤器也可以串联</li> <li>并没有改变原本的数据，是产生新的对应的数据</li></ul> <h2 id="_15-内置指令"><a href="#_15-内置指令" class="header-anchor">#</a> 15.内置指令</h2> <h3 id="_1-v-text"><a href="#_1-v-text" class="header-anchor">#</a> 1.v-text</h3> <ul><li>作用：向其所在的节点中渲染文本内容</li> <li>区别：v-text会替换掉节点中的内容，text则不会</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>str<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_2-v-html"><a href="#_2-v-html" class="header-anchor">#</a> 2.v-html</h3> <ul><li>作用：向指定节点中渲染包含html结构的内容</li> <li>与插值语法的区别
<ul><li>v-html会替换掉节点中都所有内容，插值语法不会</li> <li>v-html可以识别html结构</li></ul></li> <li>注意：v-html结构有安全性问题：在网站上动态渲染html容易导致XSS攻击</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>str<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
str: &quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>&quot;
</code></pre></div><h3 id="_3-v-cloak"><a href="#_3-v-cloak" class="header-anchor">#</a> 3.v-cloak</h3> <ul><li>本质是一个特殊属性，Vue实例创建完毕并接管容器后会删除掉v-cloak属性</li> <li>使用css配合v-cloak当网速过慢时，不让未解析的模板展示</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_4-v-once"><a href="#_4-v-once" class="header-anchor">#</a> 4.v-once</h3> <ul><li>所在节点在初次动态渲染后就视为静态内容了</li> <li>以后数据的改变不会引起v-once所在的结构更新可以用于优化性能</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-once</span><span class="token punctuation">&gt;</span></span> 初始化的N值是：{{n}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_5-v-pre"><a href="#_5-v-pre" class="header-anchor">#</a> 5.v-pre</h3> <ul><li>跳过其所在的节点编译过程</li> <li>可利用它跳过：没有使用指令语法、没有使用插值语法的节点会加快编译</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-pre</span><span class="token punctuation">&gt;</span></span>标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_16-自定义指令"><a href="#_16-自定义指令" class="header-anchor">#</a> 16.自定义指令</h2> <h3 id="_1-局部指令"><a href="#_1-局部指令" class="header-anchor">#</a> 1.局部指令</h3> <ul><li>new Vue({directive:{指令名:配置对象}})</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">big</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-全局指令"><a href="#_2-全局指令" class="header-anchor">#</a> 2.全局指令</h3> <ul><li>Vue.directive{指令名,回调函数}</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">bind</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//指令与元素成功绑定时，一上来</span>
    <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token comment">//注意此处的this是window</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//指令所在元素被插入页面时</span>
    <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//指令所在的模板被重新解析时</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-配置对象中常用的3个回调"><a href="#_3-配置对象中常用的3个回调" class="header-anchor">#</a> 3.配置对象中常用的3个回调</h3> <ul><li>bind:指令与元素成功绑定时调用</li> <li>inserted:指令所在元素被插入页面时调用</li> <li>update:指令所在的模板被重新解析时调用</li></ul> <h3 id="_4-备注"><a href="#_4-备注" class="header-anchor">#</a> 4.备注</h3> <ul><li>指令定义时不加v- 但使用时要加v-</li> <li>指令如果是多个单词要使用user-name,不要使用userName命名</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>p v<span class="token operator">-</span>big<span class="token operator">-</span>plus<span class="token operator">=</span><span class="token string">&quot;n&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token string">&quot;big-plus&quot;</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> binding<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_17-生命周期"><a href="#_17-生命周期" class="header-anchor">#</a> 17.生命周期</h2> <h3 id="_1-引出"><a href="#_1-引出" class="header-anchor">#</a> 1.引出</h3> <p><strong>生命周期</strong></p> <ul><li>1.又名：生命周期回调函数、生命周期函生命周期钩子</li> <li>2.是什么：Vue在关键时刻帮我们调用的一些特殊名称的函数</li> <li>3.生命周期的函数的名字不可更改但函数的具体内容是程序员根据需求编写的</li> <li>4.生命周期函数中的this指向是vm或者组件实例对象</li></ul> <h3 id="_2-分析"><a href="#_2-分析" class="header-anchor">#</a> 2.分析</h3> <p><strong>4对生命周期钩子</strong></p> <p><img src="https://img2022.cnblogs.com/blog/2332774/202203/2332774-20220302133926425-1526799771.png" alt=""></p> <ul><li>new Vue()</li></ul> <p><strong>数据监测与数据代理将要创建与创建完毕</strong></p> <ul><li>Init Events &amp; Lifecycle---&gt; 初始化：生命周期、事件，但数据代理还未开始。</li> <li><strong>beforeCreate</strong> 此时无法通过vm访问到data中的数据、methods中的方法。</li> <li>Init injections &amp; reactivity---&gt;初始化：数据监测、数据代理。</li> <li><strong>created</strong> 此时可以通过vm访问到data中的数据、methods中的方法。</li></ul> <p><strong>此阶段Vue开始解析模板，生成虚拟DOM（内存中），页面还不能显示解析好的内容</strong></p> <ul><li>Has &quot;el&quot; option
<ul><li>no---&gt;when vm.$mount(el) is called----|</li> <li>yes                                                  &lt;---|</li></ul></li> <li>Has &quot;templete&quot; option
<ul><li>yes---&gt;compile template into render function</li> <li>no---&gt;compile el's outerHTML as template</li></ul></li></ul> <p><strong>将要挂载与挂在完毕</strong>------重要</p> <ul><li><p><strong>beforeMount</strong></p> <ul><li>此时页面呈现的是未经Vue编译的DOM结构</li> <li>所有对DOM的操作最终都不奏效</li></ul></li> <li><p>Create vm$el and repace &quot;el&quot; with it ---&gt;将内存中的虚拟DOM转为真实DOM插入页面</p></li> <li><h3 id="mounted"><a href="#mounted" class="header-anchor">#</a> <strong>mounted</strong></h3> <ul><li>页面中呈现的是经过Vue编译的DOM</li> <li>对DOM的操作均有效（尽可能避免）</li></ul></li> <li><p>至此初始化过程结束，一般在此进行：开启定时器、发送网络请求、订阅消息、绑定自定义事件、等初始化操作</p></li> <li><p>Mounted: when data changes</p></li></ul> <p><strong>更新之前与更新完毕</strong></p> <ul><li>**beforeUpdate **此时数据时新的但页面时旧的，即页面尚未和数据保持同步</li> <li>Virtual Dom re-render and patch
<ul><li>根据新数据生成新的虚拟DOM</li> <li>随后与旧的虚拟DOM进行比较，最终完成页面更新</li> <li>即完成了Model-&gt;View的更新</li></ul></li> <li><strong>updated</strong> 此时数据时新的，页面也是新的的，即页面和数据保持同步</li> <li>when VM.$destroy is called</li></ul> <p><strong>销毁之前与销毁完毕</strong>------重要</p> <ul><li><strong>beforeDestroy</strong> <ul><li>此时vm中所有的data、methods\指令等等都处于可用状态，马上要执行销毁过程</li> <li>所有对数据的修改不会触发更新</li> <li>一般在此阶段：关闭定时器、取消订阅消息、解绑自定义事件等收尾操作。</li></ul></li> <li>Teardown watchers,child components and event listeners</li> <li>Destroyed</li> <li><strong>destoroyed</strong> <ul><li>所有对数据的修改不会触发更新</li></ul></li></ul> <h3 id="_3-总结"><a href="#_3-总结" class="header-anchor">#</a> 3.总结</h3> <ul><li>1.常见的生命周期钩子：
<ul><li>mounted:发送ajax请求、启动定时器、绑定自定义事件、订阅消息等初始化操作</li> <li>beforeDestroy:清楚定时器，解绑自定义事件、取消订阅</li></ul></li> <li>2.关于销毁Vue实例
<ul><li>销毁后Vue开发者工具看不到任何信息</li> <li>销毁后自定义事件不会失效，但原生DON事件依然有效</li> <li>一般不会在before操作数据，因为即便操作数据也不会再触发更新流程了</li></ul></li></ul> <h2 id="_18-非单文件组件"><a href="#_18-非单文件组件" class="header-anchor">#</a> 18.非单文件组件</h2> <h3 id="_1-基本使用"><a href="#_1-基本使用" class="header-anchor">#</a> 1.基本使用</h3> <h4 id="_1-定义-2"><a href="#_1-定义-2" class="header-anchor">#</a> 1.定义</h4> <ul><li>实现应用中局部功能代码和资源的集合</li></ul> <h4 id="_2-步骤"><a href="#_2-步骤" class="header-anchor">#</a> 2.步骤</h4> <ul><li>定义组件</li> <li>注册组件</li> <li>使用组件</li></ul> <h4 id="_3-如何定义"><a href="#_3-如何定义" class="header-anchor">#</a> 3.如何定义</h4> <ul><li>使用Vue.extend(options)</li> <li>使用template可以配置组件结构</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> school <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token comment">//组价定义时，不写el配置项，因为最终所有的组件都要被一个vm管理，由vm决定服务于哪个容器</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        &lt;div&gt;
        &lt;h2&gt;学校名称: {{schoolName}}&lt;/h2&gt;
        &lt;h2&gt;学校地址: {{address}}&lt;/h2&gt; 
        &lt;button @click=&quot;tip&quot;&gt;提示&lt;/button&gt;
        &lt;/div&gt;
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">schoolName</span><span class="token operator">:</span> <span class="token string">&quot;尚硅谷&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">&quot;武汉&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">tip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>schoolName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h4 id="_4-如何注册"><a href="#_4-如何注册" class="header-anchor">#</a> 4.如何注册</h4> <ul><li>局部注册：靠new Vue的时候传入componets选项</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">school</span><span class="token operator">:</span> school<span class="token punctuation">,</span>
    student<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>全局注册：靠Vue.component(‘组件名’,组件)</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span>hello<span class="token punctuation">)</span>
</code></pre></div><h4 id="_5-编写组件标签"><a href="#_5-编写组件标签" class="header-anchor">#</a> 5.编写组件标签</h4> <div class="language- extra-class"><pre class="language-text"><code>&lt;xxx&gt;&lt;/xxx&gt;
</code></pre></div><h3 id="_2-注意点"><a href="#_2-注意点" class="header-anchor">#</a> 2.注意点</h3> <h4 id="_1-组件名"><a href="#_1-组件名" class="header-anchor">#</a> 1.组件名</h4> <ul><li>一个单词组成：school , School</li> <li>多个单词组成：my-school, MySchool(脚手架)</li> <li>尽可能回避html元素作为组件名</li> <li>组件命名语义化</li> <li>可以使用name配置项指定组件在开发者工具中呈现的名字</li></ul> <h4 id="_2-组件标签"><a href="#_2-组件标签" class="header-anchor">#</a> 2.组件标签</h4> <div class="language- extra-class"><pre class="language-text"><code>&lt;school&gt;&lt;/school&gt;
&lt;school/&gt;(脚手架)
</code></pre></div><h4 id="_3-简写方式"><a href="#_3-简写方式" class="header-anchor">#</a> 3.简写方式</h4> <ul><li>const school = Vue.extend(options)  ---&gt; const school = options</li></ul> <h3 id="_3-组件的嵌套"><a href="#_3-组件的嵌套" class="header-anchor">#</a> 3.组件的嵌套</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">template</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;app&gt;&lt;/app&gt;</span><span class="token template-punctuation string">`</span></span>
<span class="token literal-property property">template</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div&gt;
    &lt;school&gt;&lt;/school&gt;
    &lt;hello&gt;&lt;/hello&gt;
&lt;/div&gt; </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_4-vuecomponent"><a href="#_4-vuecomponent" class="header-anchor">#</a> 4.VueComponent</h3> <ul><li>关于VueComponent 组件是可复用的Vue实例</li> <li>组件本质：一个名为VueComponent的构造函数，是由Vue.extend生成的</li> <li>.写组件时，Vue解析时会帮我们创建schoo组件的实例对象即Vue执行 new VueComponent(options)</li> <li>每次调用Vue.extend 返回的都是一个全新的VueComponent</li> <li>关于this指向
<ul><li>组件配置中，它们的this均是VueComponent实例对象</li> <li>new Vue(options)配置中，他们的this均是Vue实例对象</li></ul></li> <li>VueComponent实例对象简称vc,也称之为组件实例对象 无el</li> <li>Vue的实例对象简称vm 有el==&gt;根实例</li></ul> <h3 id="_5-内置关系"><a href="#_5-内置关系" class="header-anchor">#</a> 5.内置关系</h3> <ul><li><p>一个重要的内置关系： VueComponent.prototype.<strong>proto</strong> === Vue.prototype</p></li> <li><p>为什么要有这个关系：让组件实例对象vc可以访问到Vue原型上的属性、方法
<img src="https://img2022.cnblogs.com/blog/2332774/202203/2332774-20220304134856273-1242237459.png" alt=""></p></li> <li><p>只有函数才配拥有显示原型属性</p></li> <li><p>实例的隐式原型属性永远指向自己缔造者的原型对象</p></li></ul> <h2 id="_19-单文件组件"><a href="#_19-单文件组件" class="header-anchor">#</a> 19.单文件组件</h2> <ul><li>index.html
<ul><li>vue.js</li> <li>main.js
<ul><li>App.vue
<ul><li>School.vue</li> <li>Student.vue</li></ul></li></ul></li></ul></li></ul> <h2 id="_20-vue脚手架"><a href="#_20-vue脚手架" class="header-anchor">#</a> 20.Vue脚手架</h2> <h3 id="_1-脚手架文件结构"><a href="#_1-脚手架文件结构" class="header-anchor">#</a> 1.脚手架文件结构</h3> <ul><li><p>node_moudles</p> <ul><li>public
<ul><li>favicon.ico :页签图标</li> <li>index.html :主页面</li></ul></li> <li>src
<ul><li>assets: 存放静态资源
<ul><li>logo.png</li></ul></li> <li>component:存放组件
<ul><li>HellpWorld.vue</li></ul></li> <li>App.vue 汇总所有组件</li> <li>main.js :入口文件</li></ul></li> <li>.gitignore :git版本管制忽略文件</li> <li>babel.config.js :babel的配置文件</li> <li>package.json :应用包配置文件</li> <li>package-lock.json :包版本控制文件</li></ul></li></ul> <h3 id="_2-关于不同版本的vue"><a href="#_2-关于不同版本的vue" class="header-anchor">#</a> 2.关于不同版本的Vue</h3> <ul><li><p>vue.js是完整版的Vue,包含：核心功能+模板解析器</p></li> <li><p>vue.runtime.xxx.js是运行版的Vue,只包含：核心功能；没有模板解析器</p></li> <li><p>因为vue.runtime.xxx.js没有模板解析器，所以不能使用templete配置项</p></li> <li><p>需要使用render函数收到ceateElement函数去指定具体内容</p> <h3 id="_3-vue-config-js配置文件"><a href="#_3-vue-config-js配置文件" class="header-anchor">#</a> 3.vue.config.js配置文件</h3> <ul><li>使用vue inspect &gt; ouyput.js 可以查看Vue脚手架的默认配置</li></ul></li></ul> <h2 id="_21-ref"><a href="#_21-ref" class="header-anchor">#</a> 21.ref</h2> <ul><li>被用来给元素或子组件注册引用信息--id的替代者</li> <li>应用在html标签中获取的是真实DOM元素，应用在组件标签上是组件实例对象</li> <li>使用方式 ref=&quot;xxx&quot; ---&gt; this.$refs.xxx</li></ul> <h2 id="_22-props"><a href="#_22-props" class="header-anchor">#</a> 22.props</h2> <p>功能：让组件接收外部传过来的数据</p> <h3 id="_1-传递数据"><a href="#_1-传递数据" class="header-anchor">#</a> 1.传递数据</h3> <div class="language- extra-class"><pre class="language-text"><code>&lt;Demo name=&quot;xxx&quot;&gt;
</code></pre></div><h3 id="_2-接收数据"><a href="#_2-接收数据" class="header-anchor">#</a> 2.接收数据</h3> <ul><li><p>props:['name','age','sex']	//简单接收</p></li> <li><p>props:{name: String,} 	//接收的同时对数据：进行类型限制+默认值的指定+必要性的限制</p></li> <li><p>props: {</p> <p>name: {type: String, //类型 required: true, //是否必要},</p> <p>//接收的同时对数据：进行类型限制+默认值的指定+必要性的限制</p></li></ul> <p><strong>props数据优先接收</strong></p> <ul><li>props是只读的，Vue底层会监测你对props的修改，如果进行了修改，就会发出警告，若业务需求确实需要修改，请复制props的内容到data中一份，然后去修改data中的数据</li></ul> <h2 id="_23-mixin-混入"><a href="#_23-mixin-混入" class="header-anchor">#</a> 23.mixin(混入)</h2> <ul><li>功能：可以把多个组件共用的配置提取成一个混入对象</li> <li>使用方式
<ul><li>定义混合
<ul><li>{data(){},methods:{}}</li></ul></li> <li>使用混合
<ul><li>全局混入: Vue.mixin(xxx)</li> <li>局部混入：mixins:['xxx']</li></ul></li></ul></li></ul> <h2 id="_24-todolist"><a href="#_24-todolist" class="header-anchor">#</a> 24.TodoList</h2> <h3 id="_1-组件化编码流程"><a href="#_1-组件化编码流程" class="header-anchor">#</a> 1.组件化编码流程</h3> <ul><li>拆分静态组件</li> <li>实现动态组件
<ul><li>一个组件在用放在自身组件</li> <li>一些组件在用放在共同的父组件---&gt;状态提升</li></ul></li> <li>实现交互从绑定事件开始</li></ul> <h3 id="_2-props适用"><a href="#_2-props适用" class="header-anchor">#</a> 2.props适用</h3> <ul><li>父组件=&gt;子组件通信</li> <li>子组件=&gt;父组件通信(要求父组件给子组件一个函数)</li></ul> <h3 id="_3-v-model注意"><a href="#_3-v-model注意" class="header-anchor">#</a> 3.v-model注意</h3> <ul><li>v-model绑定的值不能是props传过来的值，因为props是不可以修改的</li></ul> <h3 id="_4-备注-2"><a href="#_4-备注-2" class="header-anchor">#</a> 4.备注</h3> <ul><li>props传过来的值若是对象类型的值，修改对象中的熟悉Vue时不会报错，但不推荐这样做</li></ul> <h2 id="_25-webstorage"><a href="#_25-webstorage" class="header-anchor">#</a> 25.webStorage</h2> <h3 id="_1-存储大小"><a href="#_1-存储大小" class="header-anchor">#</a> 1.存储大小</h3> <ul><li>存储内容大小一般支持5M左右，不同浏览器不同</li></ul> <h3 id="_2-存储机制"><a href="#_2-存储机制" class="header-anchor">#</a> 2.存储机制</h3> <ul><li>浏览器通过Window.sessionStorage 和 Window.localStorage属性来实现本地存储机制</li></ul> <h3 id="_3-相关api"><a href="#_3-相关api" class="header-anchor">#</a> 3.相关API</h3> <p><strong>Window.sessionStorage 和 Window.localStorage同Api</strong></p> <ul><li>存储：sessionStorage.setItem(&quot;msg&quot;, &quot;hello&quot;);</li> <li>读取：sessionStorage.getItem(&quot;msg&quot;)</li> <li>删除：sessionStorage.removeItem(&quot;msg&quot;);</li> <li>清空sessionStorage.clear();</li> <li>这些方法接受一个键和值作为参数</li></ul> <h3 id="_4-备注-3"><a href="#_4-备注-3" class="header-anchor">#</a> 4.备注</h3> <ul><li>sessionStorage存储的内容会随着浏览器窗口的关闭而消失</li> <li>localStorage存储的内容需要手动清除才会消失</li> <li>Window.sessionStorage 和 Window.localStorage对应的value获取不到那么getItem的返回值是null</li> <li>JSON.parse(null)的结果依然是null</li></ul> <h2 id="_26-组件的自定义事件"><a href="#_26-组件的自定义事件" class="header-anchor">#</a> 26.组件的自定义事件</h2> <h3 id="_1-适用"><a href="#_1-适用" class="header-anchor">#</a> 1.适用</h3> <ul><li>一种组件间通信的方式，适用于 子组件===》父组件</li></ul> <h3 id="_2-使用场景"><a href="#_2-使用场景" class="header-anchor">#</a> 2.使用场景</h3> <ul><li>A是父组件，B是子组件，B想给A传数据，那么就要在A中给B中绑定自定义事件(事件的回调在A中)</li></ul> <h3 id="_3-绑定自定义事件"><a href="#_3-绑定自定义事件" class="header-anchor">#</a> 3.绑定自定义事件</h3> <ul><li>1.在父组件中通过@或v-on绑定</li> <li>2.在父组件中指定子组件的ref通过this.$refs.xxx.$on</li></ul> <h3 id="_4-触发自定义事件"><a href="#_4-触发自定义事件" class="header-anchor">#</a> 4.触发自定义事件</h3> <ul><li>this.$refs.xxx$on('xxx',数据)</li></ul> <h3 id="_5-解绑自定义事件"><a href="#_5-解绑自定义事件" class="header-anchor">#</a> 5.解绑自定义事件</h3> <ul><li>this.$off('xxx')</li></ul> <h3 id="_6-绑定原生事件"><a href="#_6-绑定原生事件" class="header-anchor">#</a> 6.绑定原生事件</h3> <ul><li>使用native修饰符</li></ul> <h3 id="_7-注意"><a href="#_7-注意" class="header-anchor">#</a> 7.注意</h3> <ul><li>通过this.$refs.xxx.$on('xxx',回调)绑定自定义事件时，回调要么配置在methods,要么用箭头函数，负责this指向会出现问题</li></ul> <h2 id="_27-全局事件总线"><a href="#_27-全局事件总线" class="header-anchor">#</a> 27.全局事件总线</h2> <h3 id="_1-用途"><a href="#_1-用途" class="header-anchor">#</a> 1.用途</h3> <ul><li>一种组件间通信的方式，适用于任意组件通信</li></ul> <h3 id="_2-安装"><a href="#_2-安装" class="header-anchor">#</a> 2.安装</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">//安装全局事件总线</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-使用"><a href="#_3-使用" class="header-anchor">#</a> 3.使用</h3> <h4 id="_1-接收数据"><a href="#_1-接收数据" class="header-anchor">#</a> 1.接收数据</h4> <p>A组件想接收数据，则在A组件中给$bus绑定自定义事件，时间的回调留在A组件自身</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'School组件,收到了'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h4 id="_2-提供数据"><a href="#_2-提供数据" class="header-anchor">#</a> 2.提供数据</h4> <ul><li>this.$bus.$emit('xxx',data)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">sendSudentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span><span class="token number">666</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_4-销毁"><a href="#_4-销毁" class="header-anchor">#</a> 4.销毁</h3> <ul><li>最好在beforeDestory钩子中，用$off去解绑当前组件所用到的时间</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span> <span class="token comment">//销毁之前解绑</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="_28-消息订阅与发布-pubsub"><a href="#_28-消息订阅与发布-pubsub" class="header-anchor">#</a> 28.消息订阅与发布（pubsub）</h2> <h3 id="_1-用途-2"><a href="#_1-用途-2" class="header-anchor">#</a> 1.用途</h3> <ul><li>一种组件间通信的方式，适用于任意组件间通信</li></ul> <h3 id="_2-使用步骤"><a href="#_2-使用步骤" class="header-anchor">#</a> 2.使用步骤</h3> <ul><li><p>1.安装 npm i pubsub-js</p></li> <li><p>2.引入 import pubsub from 'puvsub-js'</p></li> <li><p>3.接收数据</p> <ul><li>A想接收数据，则在A组件中订阅消息，订阅的回调留在A组件本身</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'有人发布了hello组件，hello消息的回调执行了'</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>data<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* this.$bus.$on('hello',(data)=&gt;{
      console.log('School组件,收到了',data);
    }) */</span>
    <span class="token comment">/* this.pubId = pubsub.subscribe('nihao',(name,data)=&gt;{
      //消息订阅
      console.log(this);
      console.log('有人发布了hello组件，hello消息的回调执行了',name,data);
    }) */</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pubId <span class="token operator">=</span> pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'nihao'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* this.$bus.$off('hello') //销毁之前解绑 */</span>
    pubsub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pubId<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>4.提供数据 pubsub.publish('xxx',数据)</p></li> <li><p>5.最好在beforeDestroy钩子中，用pubsub.unsubscribe取消订阅</p></li></ul> <h2 id="_29-nexttick"><a href="#_29-nexttick" class="header-anchor">#</a> 29.nextTick</h2> <h3 id="_1-语法"><a href="#_1-语法" class="header-anchor">#</a> 1.语法</h3> <ul><li>this.$nextTick(回调函数)</li></ul> <h3 id="_2-作用"><a href="#_2-作用" class="header-anchor">#</a> 2.作用</h3> <ul><li>在下一次DOM更新结束后执行其指定的回调</li></ul> <h3 id="_3-时机"><a href="#_3-时机" class="header-anchor">#</a> 3.时机</h3> <ul><li>当改变数据后，要基于更新后的新DOM进行某些操作时，要在nectTick所指定的回调函数中执行</li></ul> <h2 id="_30-vue封装的过度与动画"><a href="#_30-vue封装的过度与动画" class="header-anchor">#</a> 30.Vue封装的过度与动画</h2> <h3 id="_1-作用"><a href="#_1-作用" class="header-anchor">#</a> 1.作用</h3> <ul><li>在插入、更新或移除DOM元素时，在合适的时候给元素添加样式类名</li></ul> <h3 id="_2-图示"><a href="#_2-图示" class="header-anchor">#</a> 2.图示</h3> <p><img src="https://img2022.cnblogs.com/blog/2332774/202203/2332774-20220304141443632-926867859.png" alt=""></p> <h3 id="_3-写法"><a href="#_3-写法" class="header-anchor">#</a> 3.写法</h3> <h4 id="_1-准备好样式"><a href="#_1-准备好样式" class="header-anchor">#</a> 1.准备好样式</h4> <ul><li>元素进入的样式
<ul><li>v-enter:进入的起点</li> <li>v-enter-active:进入过程中</li> <li>v-enter-to:进入的终点</li></ul></li> <li>元素离开的样式
<ul><li>v-leave:离开的起点</li> <li>v-leave-active:离开的过程中</li> <li>v-leave-to:离开的终点</li></ul></li></ul> <h4 id="_2-使用"><a href="#_2-使用" class="header-anchor">#</a> 2.使用</h4> <ul><li>使用transition包裹要过度的元素，并配置name属性</li> <li>可以通过 appear 特性设置节点的在初始渲染的过渡</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>transition<span class="token operator">-</span>group name<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span> <span class="token operator">:</span>appear<span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1 v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;isShow&quot;</span> key<span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token operator">&gt;</span>你好啊<span class="token number">2</span>！<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h1 v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;!isShow&quot;</span> key<span class="token operator">=</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span>你好啊<span class="token number">3</span>！<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>transition<span class="token operator">-</span>group<span class="token operator">&gt;</span>
</code></pre></div><h4 id="_3-备注"><a href="#_3-备注" class="header-anchor">#</a> 3.备注</h4> <ul><li>若有多个元素需要过度，则需要使用 'transition-group',且每个元素都要指定key值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>transition<span class="token operator">-</span>group name<span class="token operator">=</span><span class="token string">&quot;animate__animated animate__bounce&quot;</span> <span class="token operator">:</span>appear<span class="token operator">=</span><span class="token string">&quot;true&quot;</span>
enter<span class="token operator">-</span>active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;animate__swing&quot;</span>
leave<span class="token operator">-</span>active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;animate__backOutUp&quot;</span>
<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1 v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;isShow&quot;</span> key<span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token operator">&gt;</span>你好啊<span class="token number">3</span>！<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>transition<span class="token operator">-</span>group<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_31-vue脚手架配置代理"><a href="#_31-vue脚手架配置代理" class="header-anchor">#</a> 31.vue脚手架配置代理</h2> <h3 id="_1-方法一"><a href="#_1-方法一" class="header-anchor">#</a> 1.方法一</h3> <ul><li>在vue.config.js中添加下列配置</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token string">'http://localhost:5000'</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>优点：配置简单，请求资源直接发给前端8080即可</li> <li>缺点：不能配置多个代理，不能灵活的控制请求是否走代理</li> <li>工作方式：若按上述配置代理，当请求了前端不存在的资源时，那么请求会转发给服务器（优先匹配前端资源）</li></ul> <h3 id="_2-方法二"><a href="#_2-方法二" class="header-anchor">#</a> 2.方法二</h3> <ul><li>编写vue.config.js配置具体代理规则</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;/atguigu&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//匹配所有以'以/atguigu'开头的请求路径</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:5000&quot;</span><span class="token punctuation">,</span><span class="token comment">//代理目标的基础路径</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;^/atguigu&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//用于支持websocket</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span><span class="token boolean">true</span> <span class="token comment">//用于控制请求头中的host值</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;/demo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:5001&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;^/demo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//用于支持websocket</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span><span class="token boolean">true</span> <span class="token comment">//用于控制请求头中的host值</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token comment">/*
       changeOrigin默认为true
       true:为请求地址的端口号
       false:为发出请求地址的端口号
       */</span>
</code></pre></div><ul><li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理</li> <li>缺点：配置略微繁琐，请求资源时必须加前缀</li></ul> <h2 id="_32-插槽"><a href="#_32-插槽" class="header-anchor">#</a> 32.插槽</h2> <h3 id="_1-作用-2"><a href="#_1-作用-2" class="header-anchor">#</a> 1.作用</h3> <ul><li>让父组件可以向子组件指定位置插入html结构，也是一种组件间通信的方式，适用于父组件=》子组件</li></ul> <h3 id="_2-分类"><a href="#_2-分类" class="header-anchor">#</a> 2.分类</h3> <ul><li>默认插槽 、具名插槽、作用域插槽</li></ul> <h3 id="_3-使用方式"><a href="#_3-使用方式" class="header-anchor">#</a> 3.使用方式</h3> <h4 id="_1-默认插槽"><a href="#_1-默认插槽" class="header-anchor">#</a> 1.默认插槽</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;category&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span> 分类<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span>可以设置默认值当使用者没有传递具体结构时我会出现<span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><h4 id="_2-具名插槽"><a href="#_2-具名插槽" class="header-anchor">#</a> 2.具名插槽</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;category&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">}</span> 分类<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;first&quot;</span><span class="token operator">&gt;</span>可以设置默认值当使用者没有传递具体结构时我会出现<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;second&quot;</span><span class="token operator">&gt;</span>可以设置默认值当使用者没有传递具体结构时我会出现<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> v<span class="token operator">-</span>slot最新写法，必须使用template标签包裹 
普通写法 slot<span class="token operator">=</span><span class="token string">&quot;second&quot;</span>
    <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span>second<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>电影院<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>电影院<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h4 slot<span class="token operator">=</span><span class="token string">&quot;second&quot;</span><span class="token operator">&gt;</span>观影<span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><h4 id="_3-作用域插槽"><a href="#_3-作用域插槽" class="header-anchor">#</a> 3.作用域插槽</h4> <ul><li>理解：数据在组件自身，但根据数据生成的结构需要组件的使用者来决定</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>Category title<span class="token operator">=</span><span class="token string">&quot;游戏&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">&quot;{youxi}&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h4 v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(g, index) in youxi&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> g <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Category<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;category&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">}</span> 分类<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>slot <span class="token operator">:</span>youxi<span class="token operator">=</span><span class="token string">&quot;games&quot;</span>
<span class="token operator">&gt;</span>可以设置默认值当使用者没有传递具体结构时我会出现<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot
<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_33-vuex"><a href="#_33-vuex" class="header-anchor">#</a> 33.Vuex</h2> <h3 id="_1-概念"><a href="#_1-概念" class="header-anchor">#</a> 1.概念</h3> <ul><li>专门在Vue中实现集中式状态（数据）管理的一个Vue插件，对vue应用中多个组件的共享状态进行集中式的管理（读/写），也是一种组件间通信的方式，且适用于任意组件间通信。</li></ul> <h3 id="_2-何时用"><a href="#_2-何时用" class="header-anchor">#</a> 2.何时用</h3> <ul><li>多个组件依赖于同意状态</li> <li>来自不同组件的行为需要变更同一状态</li></ul> <h3 id="_3-原理"><a href="#_3-原理" class="header-anchor">#</a> 3.原理</h3> <p><img src="https://img2022.cnblogs.com/blog/2332774/202203/2332774-20220304141507237-1010565824.png" alt=""></p> <h3 id="_4-搭建环境"><a href="#_4-搭建环境" class="header-anchor">#</a> 4.搭建环境</h3> <ul><li>创建文件 src/store/index.js</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//用于创建Vuex中store</span>
<span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//引入Vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>


<span class="token comment">//准备actions -- 用于响应组件中的动作</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token comment">//准备mutations -- 用于操作数据（state）</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token comment">//准备state -- 用于存储数据</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment">//创建并暴露store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    actions<span class="token punctuation">,</span>
    mutations<span class="token punctuation">,</span>
    state
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//导出store</span>


</code></pre></div><ul><li>在 main.js 中创建vm时传入store配置项</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//引入App</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//引入插件</span>
<span class="token keyword">import</span> vueResource <span class="token keyword">from</span> <span class="token string">&quot;vue-resource&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//引入store</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store/index'</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>vueResource<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//创建vm</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
  store<span class="token punctuation">,</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">//安装全局事件总线</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="_5-基本使用"><a href="#_5-基本使用" class="header-anchor">#</a> 5.基本使用</h3> <ul><li>基本使用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//用于创建Vuex中store</span>
<span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//引入Vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//准备actions -- 用于响应组件中的动作</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//无业务逻辑可删除可直接调用commit</span>
    <span class="token comment">/* add(context,value){
        console.log('actions中add被调用',context,value);
        context.commit('ADD',value)
    },
    reduce(context,value){
        console.log('reduce',context,value);
        context.commit('REDUCE',value)
    }, */</span>
    <span class="token function">addOdd</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'actions中addOdd被调用'</span><span class="token punctuation">,</span>context<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>state<span class="token punctuation">.</span>sum <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'ADD'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        context<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'demo1'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/* demo1(context,value){
        context.dispatch('demo2',value)
    },
    demo2(context,value){
        context.dispatch('addOdd',value)
    }, */</span>
    <span class="token function">addWait</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'actions中addWait被调用'</span><span class="token punctuation">,</span>context<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'ADD'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//准备mutations -- 用于操作数据（state）</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token constant">ADD</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mutations中的ADD被调用了'</span><span class="token punctuation">,</span>state<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        state<span class="token punctuation">.</span>sum <span class="token operator">+=</span> value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token constant">REDUCE</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mutations中REDUCE的被调用了'</span><span class="token punctuation">,</span>state<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        state<span class="token punctuation">.</span>sum <span class="token operator">-=</span> value
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//准备state -- 用于存储数据</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sum</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//创建并暴露store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  actions<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//导出store</span>

</code></pre></div><ul><li>组件中读取vuex中的数据：$store.state.sum</li> <li>组件中修改vue中的数据：$store.dispatch('action中的方法名',数据) 或$store.commit('mutations中的方法明',数据)</li> <li>备注：若没有网络请求或其它业务逻辑，组件中也可以越过actions，即不写dispatch,直接写commit</li></ul> <h3 id="_6-getters的使用"><a href="#_6-getters的使用" class="header-anchor">#</a> 6.getters的使用</h3> <ul><li>概念：当state中的数据需要经过加工后再使用时，可以使用getters加工</li> <li>在store.js中追加getters配置</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">bigSum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">.</span>sum<span class="token operator">*</span><span class="token number">10</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>组件中读取数据：$store.getters.bigSum</li></ul> <h3 id="_7-四个map方法的使用"><a href="#_7-四个map方法的使用" class="header-anchor">#</a> 7.四个map方法的使用</h3> <ul><li>mapState方法：用于帮助我们映射status中的数据为计算属性</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//借助mapState生成计算属性,从state中读取数据（对象写法）</span>
<span class="token comment">/* ...mapState({sum:'sum',school:'school',subject:'subject'}), */</span>

<span class="token comment">//借助mapState生成计算属性,从state中读取数据（数组写法）</span>
<span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><ul><li>mapGetters方法：用于帮助我们映射getters中的数据为计算属性</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//借助mapGetters,从getters中读取数据（对象写法）</span>
<span class="token comment">/* ...mapGetters({bigSum:'bigSum'}) */</span>
<span class="token comment">//借助mapGetters,从getters中读取数据（数组写法）</span>
<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><ul><li>mapActions方法：用于帮助我们生成与actions对话的方法，即：包含$store.dispatch(xxx)的函数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(对象的写法)</span>
<span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">increment</span><span class="token operator">:</span> <span class="token string">&quot;ADD&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">decrement</span><span class="token operator">:</span> <span class="token string">&quot;REDUCE&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(数组的写法)</span>
<span class="token comment">// ...mapMutations([&quot;ADD&quot;,&quot;REDUCE&quot;] ),</span>
</code></pre></div><ul><li>mapMutations方法：用于帮助我们生成与mutations对话的方法，即：包含$store.commit(xxx)的函数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//借助mapActions生成对应的方法，方法中会调用dispatch去联系mutations(对象的写法)</span>
<span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">incrementOdd</span><span class="token operator">:</span><span class="token string">'addOdd'</span><span class="token punctuation">,</span><span class="token literal-property property">incrementWait</span><span class="token operator">:</span><span class="token string">'addWait'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//借助mapActions生成对应的方法，方法中会调用dispatch去联系mutations(数组的写法)</span>
<span class="token comment">// ...mapActions(['addOdd','addWait'])</span>
</code></pre></div><h3 id="_8-模块化-命名空间"><a href="#_8-模块化-命名空间" class="header-anchor">#</a> 8.模块化+命名空间</h3> <ul><li>目的：让代码更好维护，让多种数据分类更加明确</li> <li>修改STORE.JS</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> countsOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">namespaced</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">addOdd</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;actions中addOdd被调用&quot;</span><span class="token punctuation">,</span> context<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>state<span class="token punctuation">.</span>sum <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;ADD&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">addWait</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;actions中addWait被调用&quot;</span><span class="token punctuation">,</span> context<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;ADD&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">ADD</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;mutations中的ADD被调用了&quot;</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      state<span class="token punctuation">.</span>sum <span class="token operator">+=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token constant">REDUCE</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;mutations中REDUCE的被调用了&quot;</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      state<span class="token punctuation">.</span>sum <span class="token operator">-=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sum</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">school</span><span class="token operator">:</span> <span class="token string">&quot;尚硅谷&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">subject</span><span class="token operator">:</span> <span class="token string">&quot;前端&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">bigSums</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> personsOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">namespaced</span><span class="token operator">:</span><span class="token string">'personsOptions'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">addPersonWang</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'王'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'ADD_PERSON'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'必须添加一个姓王的人！'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">addPersonServer</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.uixsj.cn/hitokoto/get?type=social'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
        <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'ADD_PERSON'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token function">nanoid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span>response<span class="token punctuation">.</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">ADD_PERSON</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;mutations中ADD_PERSON的被调用了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        state<span class="token punctuation">.</span>personList<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">personList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;001&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">firstPersonName</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>personList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>开启命名空间后，组件中读取state数据</p> <ul><li>this.$store.state.namespaced.list</li> <li>...mapState('namespaced',['sum','school','subject'])</li></ul></li> <li><p>开启命名空间后，组件中读取getters数据</p> <ul><li>this$store.getters.bigSum</li> <li>...mapGetters(&quot;countsOptions&quot;, [&quot;bigSums&quot;]),</li></ul></li> <li><p>开启命名空间后，组件中调用dispatch</p> <ul><li>this.$store.dispatch(&quot;addOdd&quot;, this.n);</li> <li>this.$store.dispatch(&quot;personsOptions/addPersonServer&quot;);</li></ul></li> <li><p>开启命名空间后，组件中调用commit</p> <ul><li>this.$store.commit('REDUCE',this.n)</li> <li>this.$store.commit(&quot;personsOptions/ADD_PERSON&quot;, personObj);
<img src="https://img2022.cnblogs.com/blog/2332774/202203/2332774-20220304141546119-1608191128.png" alt=""></li></ul></li></ul> <h2 id="_34-vue-router"><a href="#_34-vue-router" class="header-anchor">#</a> 34.Vue-router</h2> <h3 id="_1-vue-router"><a href="#_1-vue-router" class="header-anchor">#</a> 1.vue-router</h3> <ul><li>理解：vue的一个插件库，专门用来实现SPA应用</li></ul> <h3 id="_2-spa"><a href="#_2-spa" class="header-anchor">#</a> 2.SPA</h3> <ul><li>单页面应用</li> <li>整个应用只有一个完整的页面</li> <li>点击页面中的导航链接不会刷新页面，只会做页面的局部刷新</li> <li>数据需要通过ajax请求</li></ul> <h3 id="_3-路由"><a href="#_3-路由" class="header-anchor">#</a> 3.路由</h3> <ul><li><p>什么是路由</p> <ul><li>一个路由就是一组映射关系 key--value</li> <li>key为路径，value可能是function或component</li></ul></li> <li><p>路由分类</p> <ul><li>后端路由
<ul><li>value是function,用于处理客户端提交的请求</li> <li>工作过程：服务器接收到一个请求时，根据请求路径找到匹配的函数来处理请求，返回响应数据</li></ul></li> <li>前端路由
<ul><li>value是component用于展示页面内容</li> <li>工作过程：当浏览器的路径改变时，对应的组件就会显示</li> <li>key是路径，value是组件</li></ul></li></ul></li> <li><p>基本使用</p> <ul><li>安装vue-router,命令 npm i vue-router</li> <li>应用插件 Vue.use(VueRouter)</li> <li>编写配置项</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//创建整个应用的路由器</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../componets/About'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../componets/Home'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">component</span><span class="token operator">:</span>About
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">component</span><span class="token operator">:</span>Home
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token comment">//创建vm</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
  router
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>借助router-link标签实现路由的切换</li> <li>active-class路由被激活时的样式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;list-group-item&quot;</span>  active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;active&quot;</span> to<span class="token operator">=</span><span class="token string">&quot;/about&quot;</span><span class="token operator">&gt;</span>About<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;list-group-item&quot;</span> active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;active&quot;</span> to<span class="token operator">=</span><span class="token string">&quot;/home&quot;</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
</code></pre></div><ul><li>router-view指定组件的切换位置</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
</code></pre></div></li></ul> <h3 id="_4-注意点"><a href="#_4-注意点" class="header-anchor">#</a> 4.注意点</h3> <ul><li>路由组件通常存放在pages文件夹，一般组件通常存放在components文件夹</li> <li>通过切换，隐藏了的路由组件，默认是被销毁掉的，需要的时候再去挂载</li> <li>每个组件都有自己的$route属性，里面存储着自己的路由信息</li> <li>整个应用只有一个router,可以通过组价的$router属性获取到</li></ul> <h3 id="_5-多级路由"><a href="#_5-多级路由" class="header-anchor">#</a> 5.多级路由</h3> <ul><li>配置路由规则。使用children配置项：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">,</span>
            <span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">component</span><span class="token operator">:</span>News
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'message'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">component</span><span class="token operator">:</span>Message
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>跳转（要写完整路由）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;list-group-item &quot;</span> active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;acive&quot;</span> to<span class="token operator">=</span><span class="token string">&quot;/home/news&quot;</span><span class="token operator">&gt;</span>News<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_6-路由的query参数"><a href="#_6-路由的query参数" class="header-anchor">#</a> 6.路由的query参数</h3> <ul><li>传递参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 跳转路由并携带query参数，to的字符串写法 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;`/home/message/detail?id=${m.id}&amp;title=${m.title}`&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> m<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 跳转路由并携带query参数，to的对象写法 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>router<span class="token operator">-</span>link
<span class="token operator">:</span>to<span class="token operator">=</span>&quot;<span class="token punctuation">{</span>
<span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home/message/detail'</span><span class="token punctuation">,</span>
<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token literal-property property">id</span><span class="token operator">:</span> m<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
<span class="token literal-property property">title</span><span class="token operator">:</span> m<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>&quot;
<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> m<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link
<span class="token operator">&gt;</span>
</code></pre></div><ul><li>接收参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id
$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title
</code></pre></div><h3 id="_7-命名路由"><a href="#_7-命名路由" class="header-anchor">#</a> 7.命名路由</h3> <ul><li><p>作用：可以简化路由的跳转</p></li> <li><p>如何使用：</p> <ul><li><p>给路由命名</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;about&quot;</span><span class="token punctuation">,</span>
<span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/about&quot;</span><span class="token punctuation">,</span>
<span class="token literal-property property">component</span><span class="token operator">:</span> About<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li> <li><p>简化跳转</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>router<span class="token operator">-</span>link
<span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;list-group-item&quot;</span>
active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;active&quot;</span>
<span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;{ name: 'about' }&quot;</span>
<span class="token operator">&gt;</span>About<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link
<span class="token operator">&gt;</span>
</code></pre></div></li></ul> <h3 id="_8-路由的params参数"><a href="#_8-路由的params参数" class="header-anchor">#</a> 8.路由的params参数</h3> <ul><li>配置路由，声明接收params参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
<span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span>
<span class="token literal-property property">component</span><span class="token operator">:</span> Message<span class="token punctuation">,</span>
<span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
<span class="token punctuation">{</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;detail&quot;</span><span class="token punctuation">,</span>
<span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;detail/:id/:title&quot;</span><span class="token punctuation">,</span>
<span class="token literal-property property">component</span><span class="token operator">:</span> Detail<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><ul><li>传递参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;`/home/message/detail/${m.id}/${m.title}`&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> m<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>router<span class="token operator">-</span>link
<span class="token operator">:</span>to<span class="token operator">=</span>&quot;<span class="token punctuation">{</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'detail'</span><span class="token punctuation">,</span><span class="token comment">//不允许写path必须写name</span>
<span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token literal-property property">id</span><span class="token operator">:</span> m<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
<span class="token literal-property property">title</span><span class="token operator">:</span> m<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>&quot;
<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> m<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link
<span class="token operator">&gt;</span>
</code></pre></div><ul><li>特别注意：路由携带params参数时，若使用to对象的写法，则不能使用path配置项，必须使用name配置。</li> <li>接收参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>title
</code></pre></div><h3 id="_9-路由的props配置"><a href="#_9-路由的props配置" class="header-anchor">#</a> 9.路由的props配置</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;detail&quot;</span><span class="token punctuation">,</span>
<span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;detail/:id/:title&quot;</span><span class="token punctuation">,</span> <span class="token comment">//使用占位符声明接收params参数</span>
<span class="token literal-property property">component</span><span class="token operator">:</span> Detail<span class="token punctuation">,</span>
<span class="token comment">//props第一种写法值为对象，该对象中所有的key-value都会以props的形式传给detail组件</span>
<span class="token comment">/* props: {
a: 1,
b: &quot;hello&quot;,
}, */</span>
<span class="token comment">//props第二种写法值为布尔值，若布尔值为真，就会把该组件收到的所有params参数，以props的形式传给detail组件</span>
<span class="token comment">/* props: true, */</span>
<span class="token comment">//props第三种写法值为函数</span>
<span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">$route</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//{params:{id,title}}</span>
<span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> $route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> $route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//return {id,title}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_10-router-link的replace属性"><a href="#_10-router-link的replace属性" class="header-anchor">#</a> 10.router-link的replace属性</h3> <ul><li>作用：控制路由跳转时操作浏览器历史纪录的模式</li> <li>浏览器的历史记录有两种写入方式：分别为push和replace，push是追加历史记录，replace是替换当前记录。路由跳转的时候默认为push</li> <li>如何开启replace模式：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>router<span class="token operator">-</span>linkreplace<span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;{ name: 'about' }&quot;</span><span class="token operator">&gt;</span>About<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_11-编程式路由导航"><a href="#_11-编程式路由导航" class="header-anchor">#</a> 11.编程式路由导航</h3> <ul><li>作用：不借助router-link实现路由跳转，让路由跳转更灵活</li> <li>实现</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">pushShow</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//console.log(this.$router);</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;detail&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> m<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> m<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">replaceShow</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;detail&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> m<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> m<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><ul><li>go:可以实现多步跳转正数为向前跳转几步，负数为向后跳转几步</li> <li>back:向后退一步</li> <li>forward:向前进一步</li></ul> <h3 id="_12-缓存路由组件"><a href="#_12-缓存路由组件" class="header-anchor">#</a> 12.缓存路由组件</h3> <ul><li>作用：让不展示的路由组件保持挂载，不被销毁</li> <li>实现：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive include<span class="token operator">=</span><span class="token string">&quot;News&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 组件名 <span class="token operator">--</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_13-路由激活失活钩子"><a href="#_13-路由激活失活钩子" class="header-anchor">#</a> 13.路由激活失活钩子</h3> <ul><li>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态</li> <li>具体名字
<ul><li>activated:路由组件被激活时触发</li> <li>deactived：路由组件失活是触发</li></ul></li></ul> <h3 id="_14-路由守卫"><a href="#_14-路由守卫" class="header-anchor">#</a> 14.路由守卫</h3> <ul><li>作用：对路由进行权限控制</li> <li>meta:路由元信息，配置title等信息，可以用来判断路由的跳转以及权限·验证等功能。</li> <li>分类：全局守卫、独享守卫、组件内守卫</li> <li>全局守卫</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//全局前置路由导航守卫，初始化和每次路由切换之前调用</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'前置路由导航守卫'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 可选择path与name进行判断</span>
  <span class="token comment">// if(to.path ==='/home/news' || to.path === '/home/message')</span>
  <span class="token comment">//判断是否需要鉴别权限</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// document.title = to.meta.title || '硅谷'</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
     <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'学校名不对，无权限查看。'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// document.title = to.meta.title || '硅谷'</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//全局后置路由导航守卫，初始化和每次路由切换之后调用</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'后置路由守卫'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token operator">||</span> <span class="token string">'硅谷'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_15-独享路由守卫"><a href="#_15-独享路由守卫" class="header-anchor">#</a> 15.独享路由守卫</h3> <ul><li>某一个路由所独享的</li> <li>名称：beforeEnter</li> <li>没有afterEnter</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">beforeEnter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;前置路由导航守卫&quot;</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> from<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 可选择path与name进行判断</span>
<span class="token comment">// if(to.path ==='/home/news' || to.path === '/home/message')</span>
<span class="token comment">//判断是否需要鉴别权限</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;school&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;atguigu&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// document.title = to.meta.title || '硅谷'</span>
<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;学校名不对，无权限查看。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
<span class="token comment">// document.title = to.meta.title || '硅谷'</span>
<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_16-组件内守卫"><a href="#_16-组件内守卫" class="header-anchor">#</a> 16.组件内守卫</h3> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token function">beforeRouteEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;进入时-beforeRouteEnter-路由导航守卫&quot;</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> from<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//判断是否需要鉴别权限</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;school&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;atguigu&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;学校名不对，无权限查看。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//通过路由规则，离开该组件时被调用</span>
  <span class="token function">beforeRouteLeave</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;离开时-beforeRouteLeave-路由导航守卫&quot;</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> from<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//判断是否需要鉴别权限</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;school&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;atguigu&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;学校名不对，无权限查看。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_17-路由器的两种工作模式"><a href="#_17-路由器的两种工作模式" class="header-anchor">#</a> 17.路由器的两种工作模式</h3> <ul><li>对于一个url来说，什么是hash值？-#及其后面的内容就是hash值</li> <li>hash值不会包含在http请求中，即：hash值不会带给服务器</li> <li>hash模式：
<ul><li>地址中永远带着#号，不美观。</li> <li>若以后将地址通过第三方手机app分享，若app校样严格，则地址会被标记为不合法</li> <li>兼容性较好</li></ul></li> <li>history模式
<ul><li>地址干净，美观</li> <li>兼容性和hash模式相比略差!</li> <li>应用部署上线需要后端人员支持，解决刷新页面服务端404的问题
<div></div></li></ul></li></ul></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/blogs/JavaScript/Operator.html" class="prev">
            JavaScript运算符
          </a></span> <!----></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:0;" data-v-cb1513f6></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/blogs/assets/js/app.69ecda0a.js" defer></script><script src="/blogs/assets/js/3.ac4bd351.js" defer></script><script src="/blogs/assets/js/1.3239c0b6.js" defer></script><script src="/blogs/assets/js/18.4d96e93b.js" defer></script><script src="/blogs/assets/js/10.e97f1fa2.js" defer></script>
  </body>
</html>
